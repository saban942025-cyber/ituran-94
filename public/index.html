<!DOCTYPE html>
<html lang="he" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Saban AI Dashboard</title>
    <style>
        :root { --primary: #2563eb; --accent: #3b82f6; --danger: #ef4444; --bg: #f1f5f9; --text: #1e293b; }
        body { font-family: system-ui, sans-serif; background-color: var(--bg); margin: 0; color: var(--text); }
        
        /* Navbar & Hamburger */
        .navbar { background: #1e293b; color: white; padding: 15px 20px; display: flex; justify-content: space-between; align-items: center; position: sticky; top: 0; z-index: 1000; }
        .hamburger { cursor: pointer; font-size: 24px; }
        .nav-menu { position: fixed; right: -250px; top: 0; width: 250px; height: 100%; background: #1e293b; transition: 0.3s; padding-top: 60px; z-index: 999; }
        .nav-menu.active { right: 0; }
        .nav-menu a { display: block; padding: 15px 25px; color: white; text-decoration: none; border-bottom: 1px solid #334155; }

        /* Main Dashboard */
        .container { padding: 20px; max-width: 800px; margin: auto; }
        .header-title { font-size: 1.5rem; font-weight: 800; margin-bottom: 5px; }
        
        /* Ticket Card */
        .ticket-card { background: white; border-radius: 16px; box-shadow: 0 10px 15px -3px rgba(0,0,0,0.1); padding: 20px; border-top: 8px solid var(--danger); margin-bottom: 20px; }
        .client-info { border-bottom: 1px solid #e2e8f0; padding-bottom: 15px; margin-bottom: 15px; }
        .client-name { font-size: 1.4rem; font-weight: 900; color: #0f172a; display: block; }
        
        /* Products Table */
        .products-table { width: 100%; border-collapse: collapse; margin: 15px 0; font-size: 0.9rem; }
        .products-table th { text-align: right; background: #f8fafc; padding: 10px; border-bottom: 2px solid #e2e8f0; }
        .products-table td { padding: 10px; border-bottom: 1px solid #f1f5f9; }
        .qty-badge { background: #e0e7ff; color: #4338ca; padding: 2px 8px; border-radius: 4px; font-weight: bold; }

        /* Actions */
        .actions { display: grid; grid-template-columns: 1fr 1fr; gap: 10px; margin-top: 20px; }
        .btn { border: none; padding: 12px; border-radius: 8px; font-weight: 700; cursor: pointer; display: flex; align-items: center; justify-content: center; gap: 5px; font-size: 0.9rem; }
        .btn-view { background: var(--primary); color: white; }
        .btn-link { background: #f8fafc; color: var(--text); border: 1px solid #cbd5e1; }

        /* Link Input Area */
        .link-input-group { display: none; margin-top: 15px; animation: fadeIn 0.3s; }
        .link-input-group input { width: 100%; padding: 10px; border: 1px solid #cbd5e1; border-radius: 6px; margin-bottom: 5px; box-sizing: border-box; }

        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }

        /* Modal Popup */
        #pdfModal { display: none; position: fixed; inset: 0; background: rgba(0,0,0,0.9); z-index: 2000; padding: 10px; }
        .modal-content { background: white; width: 100%; height: 90vh; border-radius: 12px; position: relative; }
        .close-modal { position: absolute; top: -15px; left: -15px; background: var(--danger); color: white; border: none; width: 35px; height: 35px; border-radius: 50%; cursor: pointer; }
    </style>
</head>
<body>

    <nav class="navbar">
        <div class="hamburger" onclick="toggleMenu()">â˜°</div>
        <div style="font-weight: 900; letter-spacing: 1px;">SABAN AI</div>
        <div style="width: 24px;"></div> </nav>

    <div class="nav-menu" id="navMenu">
        <a href="#">ğŸ  ×“×£ ×”×‘×™×ª</a>
        <a href="#">ğŸ“Š ×“×•×—×•×ª ×™×•××™×™×</a>
        <a href="#">ğŸšš × ×™×”×•×œ ×¦×™ × ×”×’×™×</a>
        <a href="#">âš™ï¸ ×”×’×“×¨×•×ª ××¢×¨×›×ª</a>
    </div>

    <div class="container">
        <div class="header-title">××¨×›×™×•×Ÿ ×ª×¢×•×“×•×ª ×“×™×’×™×˜×œ×™</div>
        <p style="color: #64748b; margin-top: 0;">× ×™×”×•×œ ×¦×™ ×—×›× - Ticket #6710293</p>

        <div class="ticket-card">
            <div class="client-info">
                <span class="client-name">××•×¨× ×™×œ-××©×¨ ×œ×•×™</span>
                <span style="color: var(--danger); font-weight: bold; font-size: 0.85rem;">âš ï¸ ×—×¨×™×’×ª ×–××Ÿ: 13 ×“×§×•×ª</span>
            </div>

            <table class="products-table">
                <thead>
                    <tr>
                        <th>××•×¦×¨</th>
                        <th>××§"×˜</th>
                        <th>×›××•×ª</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>×©××Ÿ ×× ×•×¢ 5W30</td>
                        <td>SKU-9921</td>
                        <td><span class="qty-badge">4</span></td>
                    </tr>
                    <tr>
                        <td>×¤×™×œ×˜×¨ ××•×•×™×¨ ×”×™×“×¨××•×œ×™</td>
                        <td>SKU-1044</td>
                        <td><span class="qty-badge">1</span></td>
                    </tr>
                </tbody>
            </table>

            <div class="actions">
                <button class="btn btn-view" onclick="openDoc()">ğŸ“„ ×¦×¤×” ×‘×ª×¢×•×“×”</button>
                <button class="btn btn-link" onclick="toggleLinkInput()">ğŸ”— ×¢×“×›×Ÿ ×œ×™× ×§</button>
            </div>

            <div class="link-input-group" id="linkGroup">
                <input type="text" id="docUrl" placeholder="×”×“×‘×§ ×œ×™× ×§ ××“×¨×™×™×‘ ×›××Ÿ...">
                <button class="btn btn-view" style="width: 100%; background: #10b981;" onclick="saveLink()">×©××•×¨ ×œ×™× ×§</button>
            </div>
        </div>
    </div>

    <div id="pdfModal">
        <div class="modal-content">
            <button class="close-modal" onclick="closeModal()">âœ•</button>
            <iframe id="pdfFrame" src="" style="width: 100%; height: 100%; border: none; border-radius: 12px;"></iframe>
        </div>
    </div>

    <script>
        let currentLink = "";

        function toggleMenu() {
            document.getElementById('navMenu').classList.toggle('active');
        }

        function toggleLinkInput() {
            const group = document.getElementById('linkGroup');
            group.style.display = group.style.display === 'block' ? 'none' : 'block';
        }

        function saveLink() {
            const input = document.getElementById('docUrl').value;
            if(input) {
                currentLink = input;
                alert('×”×œ×™× ×§ × ×©××¨ ×‘×”×¦×œ×—×” ×‘×›×¨×˜×™×¡!');
                toggleLinkInput();
            }
        }

        function openDoc() {
            if(!currentLink) {
                alert('× × ×œ×¢×“×›×Ÿ ×œ×™× ×§ ×œ××¡××š ×ª×—×™×œ×”');
                return;
            }
            
            let finalUrl = currentLink;
            if (currentLink.includes('drive.google.com')) {
                finalUrl = currentLink.replace(/\/view.*$/, '/preview').replace(/\/edit.*$/, '/preview');
            }

            const isMobile = /iPhone|iPad|iPod|Android/i.test(navigator.userAgent);
            if(isMobile) {
                window.open(finalUrl, '_blank');
            } else {
                document.getElementById('pdfFrame').src = finalUrl;
                document.getElementById('pdfModal').style.display = 'flex';
            }
        }

        function closeModal() {
            document.getElementById('pdfModal').style.display = 'none';
            document.getElementById('pdfFrame').src = '';
        }
    </script>
</body>
</html>
